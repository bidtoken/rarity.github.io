(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{1646:function(n){n.exports=function(){"use strict";var n,t,e=1e3,s=6e4,r=36e5,i=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,u=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:a,months:u,days:i,hours:r,minutes:s,seconds:e,milliseconds:1,weeks:6048e5},d=function(n){return n instanceof E},h=function(n,t,e){return new E(n,e,t.$l)},f=function(n){return t.p(n)+"s"},m=function(n){return n<0},g=function(n){return m(n)?Math.ceil(n):Math.floor(n)},x=function(n){return Math.abs(n)},v=function(n,t){return n?m(n)?{negative:!0,format:""+x(n)+t}:{negative:!1,format:""+n+t}:{negative:!1,format:""}},E=function(){function m(n,t,e){var s=this;if(this.$d={},this.$l=e,void 0===n&&(this.$ms=0,this.parseFromMilliseconds()),t)return h(n*l[f(t)],this);if("number"==typeof n)return this.$ms=n,this.parseFromMilliseconds(),this;if("object"==typeof n)return Object.keys(n).forEach((function(t){s.$d[f(t)]=n[t]})),this.calMilliseconds(),this;if("string"==typeof n){var r=n.match(c);if(r){var i=r.slice(2).map((function(n){return null!=n?Number(n):0}));return this.$d.years=i[0],this.$d.months=i[1],this.$d.weeks=i[2],this.$d.days=i[3],this.$d.hours=i[4],this.$d.minutes=i[5],this.$d.seconds=i[6],this.calMilliseconds(),this}}return this}var x=m.prototype;return x.calMilliseconds=function(){var n=this;this.$ms=Object.keys(this.$d).reduce((function(t,e){return t+(n.$d[e]||0)*l[e]}),0)},x.parseFromMilliseconds=function(){var n=this.$ms;this.$d.years=g(n/a),n%=a,this.$d.months=g(n/u),n%=u,this.$d.days=g(n/i),n%=i,this.$d.hours=g(n/r),n%=r,this.$d.minutes=g(n/s),n%=s,this.$d.seconds=g(n/e),n%=e,this.$d.milliseconds=n},x.toISOString=function(){var n=v(this.$d.years,"Y"),t=v(this.$d.months,"M"),e=+this.$d.days||0;this.$d.weeks&&(e+=7*this.$d.weeks);var s=v(e,"D"),r=v(this.$d.hours,"H"),i=v(this.$d.minutes,"M"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var a=v(o,"S"),u=n.negative||t.negative||s.negative||r.negative||i.negative||a.negative,c=r.format||i.format||a.format?"T":"",l=(u?"-":"")+"P"+n.format+t.format+s.format+c+r.format+i.format+a.format;return"P"===l||"-P"===l?"P0D":l},x.toJSON=function(){return this.toISOString()},x.format=function(n){var e=n||"YYYY-MM-DDTHH:mm:ss",s={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return e.replace(o,(function(n,t){return t||String(s[n])}))},x.as=function(n){return this.$ms/l[f(n)]},x.get=function(n){var t=this.$ms,e=f(n);return"milliseconds"===e?t%=1e3:t="weeks"===e?g(t/l[e]):this.$d[e],0===t?0:t},x.add=function(n,t,e){var s;return s=t?n*l[f(t)]:d(n)?n.$ms:h(n,this).$ms,h(this.$ms+s*(e?-1:1),this)},x.subtract=function(n,t){return this.add(n,t,!0)},x.locale=function(n){var t=this.clone();return t.$l=n,t},x.clone=function(){return h(this.$ms,this)},x.humanize=function(t){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},x.milliseconds=function(){return this.get("milliseconds")},x.asMilliseconds=function(){return this.as("milliseconds")},x.seconds=function(){return this.get("seconds")},x.asSeconds=function(){return this.as("seconds")},x.minutes=function(){return this.get("minutes")},x.asMinutes=function(){return this.as("minutes")},x.hours=function(){return this.get("hours")},x.asHours=function(){return this.as("hours")},x.days=function(){return this.get("days")},x.asDays=function(){return this.as("days")},x.weeks=function(){return this.get("weeks")},x.asWeeks=function(){return this.as("weeks")},x.months=function(){return this.get("months")},x.asMonths=function(){return this.as("months")},x.years=function(){return this.get("years")},x.asYears=function(){return this.as("years")},m}();return function(e,s,r){n=r,t=r().$utils(),r.duration=function(n,t){var e=r.locale();return h(n,{$l:e},t)},r.isDuration=d;var i=s.prototype.add,o=s.prototype.subtract;s.prototype.add=function(n,t){return d(n)&&(n=n.asMilliseconds()),i.bind(this)(n,t)},s.prototype.subtract=function(n,t){return d(n)&&(n=n.asMilliseconds()),o.bind(this)(n,t)}}}()},66316:function(n,t,e){"use strict";e.d(t,{ug:function(){return h},En:function(){return f},lT:function(){return m}});e(67294);var s=e(27484),r=e.n(s),i=e(1646),o=e.n(i),a=e(84110),u=e.n(a),c=e(2908),l=e(69125),d=e(85893);function h(n){var t,e,s,i,o={eligible:!0,reason:null};return 2!==(null===n||void 0===n?void 0:n.class)?o={eligible:!1,reason:"Is not a bard"}:(null===n||void 0===n?void 0:n.level)<2?o={eligible:!1,reason:"Is not level 2 or higher"}:(null===n||void 0===n||null===(t=n.dungeons)||void 0===t||null===(e=t.openMic)||void 0===e?void 0:e.timeToNextPerformance)>0&&(o={eligible:!1,reason:" Will be ready in ".concat(r().duration({seconds:null===n||void 0===n||null===(s=n.dungeons)||void 0===s||null===(i=s.openMic)||void 0===i?void 0:i.timeToNextPerformance}).humanize())}),o.eligible||(o.sheild=(0,d.jsx)("div",{className:"absolute inset-0 backdrop-blur-3xl bg-black bg-opacity-60 cursor-not-allowed flex justify-center items-center text-center p-6",children:(0,d.jsx)("p",{className:"text-white",children:o.reason})})),o}function f(n,t,e){var s=h(n);return{label:(0,d.jsxs)(d.Fragment,{children:[n&&s.eligible&&(0,d.jsxs)(d.Fragment,{children:["TAKE THE STAGE WITH ",(0,d.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:"".concat(n.tokenID,", ").concat(n.name?n.name:l.Z[n.class].name," LVL ").concat(n.level)})]}),n&&!s.eligible&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:"".concat(n.tokenID,", ").concat(n.name?n.name:l.Z[n.class].name," LVL ").concat(n.level)})," ".concat(s.reason,", CHOOSE SOMEONE ELSE ")]}),!n&&(0,d.jsx)(d.Fragment,{children:"CHOOSE A BARD WITH LEVEL > 1 and PERFORM > 0 "})]}),onClick:function(){s.eligible?t.push("/dungeons/openmic?adventurer=".concat(n.tokenID)):e()}}}function m(n){var t=n.bards,e=n.router;return(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 gap-y-0 md:gap-y-4",children:t.map((function(n){var t=h(n);return(0,d.jsx)("div",{className:"w-full",children:(0,d.jsx)(c.Z,{onClick:function(){t.eligible&&e.push("/dungeons/openmic?adventurer=".concat(n.tokenID))},adventurer:n,rarityClass:l.Z[n.class],children:t.sheild})},n.tokenID)}))})}r().extend(o()),r().extend(u())},443:function(n,t,e){"use strict";e.r(t);var s=e(67294),r=e(25675),i=e(80496),o=e(87046),a=e(627),u=e(94775),c=e(71637),l=e(96883),d=e(66316),h=e(85893);function f(n){var t,e=n.adventurersCount,r=n.router,i=(0,s.useState)(0),o=i[0],u=i[1],l=(0,s.useState)(0),f=l[0],m=l[1],g=(0,a.ZP)().currentAdventurer;return(0,s.useEffect)((function(){u(0),m((function(n){return n+1}))}),[null===g||void 0===g?void 0:g.tokenID,null===r||void 0===r?void 0:r.asPath]),0===e?(0,h.jsx)(c.Z,{options:[{label:"GO TO THE TAVERN",onClick:function(){return r.push("/town/tavern?tab=recruit")}}]}):"the-stage"===(null===r||void 0===r||null===(t=r.query)||void 0===t?void 0:t.tab)?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(c.Z,{selectedOption:o,nonce:f,options:[(0,d.En)(g,r,(function(){return null})),{label:"CANCEL",onClick:function(){return r.push("/town/quest")}}]})}):(0,h.jsx)(c.Z,{selectedOption:o,nonce:f,options:[{label:(0,h.jsxs)(h.Fragment,{children:["THE RAT IN ",(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:"THE CELLAR"})]}),onClick:function(){return r.push("/countryside/cellar")}},{label:(0,h.jsxs)(h.Fragment,{children:["THE TREASURE IN ",(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:"THE FOREST"})]}),onClick:function(){return r.push("/countryside/forest")}},{label:(0,h.jsxs)(h.Fragment,{children:["GET SOME INFO ABOUT",(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:" THE BOARS"})]}),onClick:function(){return r.push("/countryside/boars")}},{label:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:"HOOLIGANS "})," "," IN THE TAVERN"]}),onClick:function(){return r.push("/countryside/openmic")}},{label:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:"Spooky "})," "," Festival"]}),onClick:function(){return r.push("/festivals/spooky")}}]})}function m(n){var t,e=n.router,r=n.active,i=n.address,o=n.adventurersCount,a=(0,s.useState)(0),c=a[0],l=a[1],d=(0,s.useState)(0),f=d[0],m=d[1];(0,s.useEffect)((function(){m(0),l((function(n){return n+1}))}),[null===e||void 0===e||null===(t=e.query)||void 0===t?void 0:t.tab,r,i]);return(0,h.jsx)("h1",{className:"text-xs md:text-xs leading-normal md:leading-8",children:r?0===o?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:0===f,children:"HELLO, I AM "}),(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:1===f,children:"LARA"})}),(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:2===f,children:" FROM THE "}),(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:3===f,children:"QUEST OFFICE"})}),(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:4===f,children:". YOU NEED AN ADVENTURER TO START HERE. GO TO THE TAVERN TO RECRUIT ONE."})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:0===f,children:"HELLO, I AM "}),(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:1===f,children:"LARA"})}),(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:2===f,children:" FROM THE "}),(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:3===f,children:"QUEST OFFICE"})}),(0,h.jsx)(u.Z,{shouldStart:4===f,onDone:function(){return m((function(n){return n+1}))},children:". I'M THE KEEPER OF QUESTS. I KNOW WHAT NEEDS DOING. YOU LOOKING FOR SOME ADVENTURE? CHOSE A QUEST BELOW!"}),"\xa0"]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:0===f,children:"HELLO, I AM "}),(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:1===f,children:"LARA"})}),(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:2===f,children:" FROM THE "}),(0,h.jsx)("span",{className:"text-tag-info dark:text-tag-warning",children:(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:3===f,children:"QUEST OFFICE"})}),(0,h.jsx)(u.Z,{onDone:function(){return m((function(n){return n+1}))},shouldStart:4===f,children:". WE ONLY WORK WITH TRUE ADVENTURERS. CONNECT YOUR WALLET FIRST."})]})},c)}t.default=function(n){var t=n.rarities,e=n.router,s=(0,o.ZP)(),a=s.active,u=s.address,c=(0,i.ZP)().theme,d=Object.values(t);return(0,h.jsx)("section",{className:"max-w-full",children:(0,h.jsxs)("div",{className:"max-w-screen-lg w-full mx-auto",children:[(0,h.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-8 md:mb-8",children:[(0,h.jsx)("div",{className:"w-auto md:w-64 mr-0 md:mr-0",style:{minWidth:256},children:(0,h.jsx)(r.default,{src:"light"===c?"/avatar/lara.gif":"/avatar/lara.png",loading:"eager",quality:100,width:256,height:256})}),(0,h.jsx)(l.Z,{className:"p-4",children:(0,h.jsx)(m,{adventurersCount:d.length,address:u,active:a,router:e})})]}),(0,h.jsx)(f,{adventurersCount:d.length,router:e})]})})}},59067:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/town/quest",function(){return e(443)}])}},function(n){n.O(0,[774,888,179],(function(){return t=59067,n(n.s=t);var t}));var t=n.O();_N_E=t}]);